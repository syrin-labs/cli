# Tool contract for get_hourly_forecast
# This tool retrieves hourly weather forecast for a location using Open-Meteo API

version: 1
tool: get_hourly_forecast

contract:
  input_schema: GetHourlyForecastRequest
  output_schema: HourlyForecastResponse

guarantees:
  side_effects: none
  max_output_size: '1MB'
  timeout: 10s

tests:
  # Test: Get hourly forecast for a city (default 7 days)
  - name: get_hourly_forecast_city
    input:
      location: 'New York'
    expect:
      output_schema: HourlyForecastResponse

  # Test: Get hourly forecast for coordinates with custom days
  - name: get_hourly_forecast_coordinates_custom_days
    input:
      location: '52.52,13.405'
      days: 3
    expect:
      output_schema: HourlyForecastResponse

  # Test: Get hourly forecast for 1 day (minimum)
  - name: get_hourly_forecast_one_day
    input:
      location: 'Tokyo'
      days: 1
    expect:
      output_schema: HourlyForecastResponse

  # Test: Get hourly forecast for 16 days (maximum)
  - name: get_hourly_forecast_max_days
    input:
      location: 'London'
      days: 16
    expect:
      output_schema: HourlyForecastResponse

  # Test: Invalid days value (too high) should raise error
  - name: get_hourly_forecast_invalid_days_high
    input:
      location: 'New York'
      days: 20
    expect:
      error:
        type: input_validation

  # Test: Invalid days value (too low) should raise error
  - name: get_hourly_forecast_invalid_days_low
    input:
      location: 'New York'
      days: 0
    expect:
      error:
        type: input_validation

  # Test: Invalid location should raise error
  - name: get_hourly_forecast_invalid_location
    input:
      location: 'InvalidLocation12345XYZ'
    expect:
      error:
        type: execution_error
